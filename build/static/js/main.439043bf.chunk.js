(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,i){t.exports=i(18)},16:function(t,e,i){},17:function(t,e,i){},18:function(t,e,i){"use strict";i.r(e);var a=i(6),n=i.n(a),s=i(8),r=i.n(s),h=(i(16),i(0)),o=i(1),c=i(3),l=i(2),u=i(4),m=i(9),f=i.n(m),d=(i(17),function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),n.a.createElement("p",null,"Edit ",n.a.createElement("code",null,"src/App.js"),' and save to reload. Or should this say "ReactApp.js"?'),n.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")))}}]),e}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=0,b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(h.a)(this,t),this.x=e,this.y=i,this.w=a,this.h=n,this.children=[],this.onClick=[],this.id=v,v++}return Object(o.a)(t,[{key:"setPos",value:function(t,e){this.x=t,this.y=e}},{key:"setSize",value:function(t,e){this.w=t,this.h=e}},{key:"addChild",value:function(t){this.children.push(t)}},{key:"removeChild",value:function(t){for(var e=!1,i=0;i<this.children.length&&!e;i++)t.id===this.children[i].id&&(this.children.splice(i),e=!0)}},{key:"addOnClick",value:function(t){this.onClick.push(t)}},{key:"checkClick",value:function(t,e){t>this.x&&t<this.x+this.w&&e>this.y&&e<this.y+this.h&&this.click(),this.children.forEach(function(i){i.checkClick(t,e)})}},{key:"click",value:function(){this.onClick.forEach(function(t){return t()})}},{key:"draw",value:function(t){this.children.forEach(function(e){e.draw(t)})}}]),t}(),y=function(){function t(e){Object(h.a)(this,t),this.htmlElement=document.getElementById(e),null!==this.htmlElement&&"CANVAS"===this.htmlElement.tagName||(this.htmlElement=document.createElement("canvas"),document.appendChild(this.htmlElement)),this.draw=this.htmlElement.getContext("2d")}return Object(o.a)(t,[{key:"setColor",value:function(t){this.draw.fillStyle=t}},{key:"clear",value:function(){this.draw.fillStyle;this.setColor("white"),this.rect(0,0,100,100)}},{key:"rect",value:function(t,e,i,a){this.draw.fillRect(t/100*this.htmlElement.width,e/100*this.htmlElement.height,i/100*this.htmlElement.width,a/100*this.htmlElement.height)}},{key:"circle",value:function(t,e,i){var a=i/2,n=t/100*this.htmlElement.width,s=e/100*this.htmlElement.height,r=a/100*((this.htmlElement.width+this.htmlElement.height)/2);this.draw.beginPath(),this.draw.arc(n+r,s+r,r,0,2*Math.PI),this.draw.fill()}},{key:"text",value:function(t,e,i){var a=this.draw.fillStyle;this.setColor("black"),this.draw.fillText(i,t/100*this.htmlElement.width,e/100*this.htmlElement.height+30),this.setColor(a)}}]),t}(),k=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this))).controller=void 0,t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setController",value:function(t){this.controller=t}},{key:"setCanvas",value:function(t){var e=this,i=t.htmlElement,a=i.offsetLeft,n=i.offsetTop,s=i.width,r=i.height;i.onclick=function(t){e.checkClick((t.clientX-document.scrollingElement.scrollLeft-a)/s*100,(t.clientY-document.scrollingElement.scrollTop-n)/r*100)}}},{key:"draw",value:function(){var t=this;try{this.controller.canvas.clear(),this.children.forEach(function(e){return e.draw(t.controller.canvas)})}catch(e){console.log("Controller not set yet: "+e.stack)}}}]),e}(b),w=i(5),p=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this))).text=i,t.color="black",t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setText",value:function(t){this.text=t}},{key:"setColor",value:function(t){this.color=t}},{key:"draw",value:function(t){Object(w.a)(Object(l.a)(e.prototype),"draw",this).call(this,t),t.setColor(this.color),t.rect(this.x,this.y,this.w,this.h),t.setColor("black"),t.text(this.x+1,this.y+this.h/2,this.text)}}]),e}(b),g=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this))).addChild(t.howToPlayButton()),t.addChild(t.fightButton()),t.addChild(t.teamBuilderButton()),t.addChild(t.infoButton()),t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"howToPlayButton",value:function(){var t=new p("How to play");return t.setPos(0,0),t.setSize(25,100),t.setColor("green"),t.addOnClick(function(){console.log("How to play not created yet")}),t}},{key:"fightButton",value:function(){var t=this,e=new p("Fight!");return e.setPos(25,0),e.setSize(25,100),e.setColor("red"),e.addOnClick(function(){t.controller.setView(ft.TEAM_SELECT)}),e}},{key:"teamBuilderButton",value:function(){var t=this,e=new p("Teambuilder");return e.setPos(50,0),e.setSize(25,100),e.setColor("blue"),e.addOnClick(function(){t.controller.setView(ft.TEAM_BUILDER)}),e}},{key:"infoButton",value:function(){var t=new p("Info");return t.setPos(75,0),t.setSize(25,100),t.setColor("yellow"),t.addOnClick(function(){console.log("Info not created yet")}),t}}]),e}(k),O=function(){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(h.a)(this,t),this.type=e,this.base=i,this.levelsUp=a,this.value=this.base,this.boosts=new Map}return Object(o.a)(t,[{key:"copy",value:function(){var e=new t(this.type,this.base,this.levelsUp);return e.value=this.value,e.boosts=this.boosts,e}},{key:"calc",value:function(t){this.boosts=new Map,this.levelsUp&&(this.value=Math.round(this.base*Math.pow(1.07,t)))}},{key:"applyBoost",value:function(t){this.boosts.set(t.id,t)}},{key:"getBase",value:function(){return this.base}},{key:"getValue",value:function(){var e,i=1,a=!0,n=!1,s=void 0;try{for(var r,h=this.boosts.values()[Symbol.iterator]();!(a=(r=h.next()).done);a=!0){i+=r.value.amount}}catch(o){n=!0,s=o}finally{try{a||null==h.return||h.return()}finally{if(n)throw s}}return e=this.type===t.ARM?this.value+i-1:this.value*i,Math.round(e)}},{key:"update",value:function(){var t=new Map;this.boosts.forEach(function(e,i){e.update(),e.should_terminate||t.set(i,e)}),this.boosts=t}}]),t}();O.PHYS=0,O.ELE=1,O.ARM=2,O.HP=3;var j=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,i,a))).setWidth(n),t.setWarrior(s),t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setWidth",value:function(t){this.setSize(t,t/2)}},{key:"setWarrior",value:function(t){this.warrior=t}},{key:"draw",value:function(t){Object(w.a)(Object(l.a)(e.prototype),"draw",this).call(this,t),t.setColor("yellow"),t.rect(this.x,this.y,this.w,this.h);var i=this.w/20;t.setColor(this.warrior?this.warrior.element.color:"black"),t.rect(this.x+i,this.y+i,this.w-2*i,this.h-2*i),t.setColor("brown"),t.rect(this.x,this.y,10,10),t.text(this.x+5,this.y+5,this.warrior?this.warrior.level:0),t.setColor("white"),this.warrior&&this.warrior.calcStats();for(var a=this.warrior?[this.warrior.getStat(O.PHYS),this.warrior.getStat(O.ELE),this.warrior.getStat(O.HP)]:["","",""],n=0;n<3;n++)t.rect(this.x+this.w/20,this.y+this.h/3+n*this.h/5,this.w/5,this.h/5),t.text(this.x+this.w/20,this.y+this.h/3+n*this.h/5,a[n]);t.setColor("grey");for(var s=0;this.warrior&&s<=this.warrior.armor;s++)t.rect(this.x+this.w/20+s*this.width/10,this.y+this.h/5*4,this.width/12,this.h/6);t.text(this.x+this.w/10,this.y+5,this.warrior?this.warrior.name:""),t.text(this.x+this.w/5*4,this.y+5,this.warrior?this.warrior.special.name:"")}}]),e}(b),E=[["Naro",[.766,.25,.6,1,3],"f","thunder strike",[25,"p"]],["Le Roc",[1.05,.25,.7,2,3],"a","thunder strike",[15,"a"]],["Yada",[.7,.25,1.1,2,1],"w","thunder strike",[10,"h"]],["Abu",[.9334,.4,1.05,1,1],"f","beat",[15,"f"]],["Volten",[1.2665,.4,.58,2,3],"f","beat",[30,"f"]],["Anil",[.9,.4,.85,0,4],"f","beat",[-30,"w"]],["Aka",[1.0165,.4,.9,0,2],"e","beat",[5,"p"]],["Doongara",[1.0334,.5,.96,0,3],"e","beat",[-30,"e"]],["Seni",[.9665,.45,.84,0,4],"e","beat",[-30,"f"]],["Toki",[1,.4,1,0,2],"a","beat",[-15,"e"]],["Maximus",[.9334,.4,.74,1,3],"a","beat",[30,"a"]],["Viriathus",[1.0668,.4,.73,1,4],"a","beat",[10,"p"]],["Zenghis",[1.05,.4,.95,1,1],"w","beat",[-15,"a"]],["Kasim",[.95,.4,.88,1,2],"w","beat",[-30,"w"]],["Alkan",[.9332,.5,.7,1,3],"w","beat",[15,"w"]],["Boris",[1.15,.45,.75,2,2],"f","aoe",[15,"f"]],["Hector",[.9165,.45,.8,2,3],"f","aoe",[10,"p"]],["Osgood",[.7334,.4,1.15,1,1],"e","aoe",[-15,"e"]],["Ironhart",[1.1,.45,.86,1,2],"e","aoe",[30,"e"]],["Khutulun",[1.3,.4,.65,1,4],"e","aoe",[30,"e"]],["Erika",[1.0665,.4,.88,1,2],"a","aoe",[30,"a"]],["Ping",[.8,.55,.95,1,3],"a","aoe",[-30,"e"]],["Grim",[.7,.45,.67,1,4],"a","aoe",[10,"h"]],["Leon",[.9,.45,1.05,1,1],"w","aoe",[15,"w"]],["Cutbert",[1.0665,.32,.8,1,2],"w","aoe",[30,"w"]],["Joan",[.7334,.45,.9,1,3],"w","aoe",[10,"p"]],["Tiberius",[.9334,.4,.8,2,2],"f","boost",[35,"p"]],["Mohinder",[.8334,.4,1.1,2,2],"f","boost",[-30,"f"]],["Badda",[1.05,.4,1.05,1,2],"e","boost",[-30,"f"]],["Spurius",[.85,.4,1.2,1,2],"e","boost",[-30,"e"]],["Crixus",[.8667,.4,1.05,2,2],"a","boost",[-15,"e"]],["Utu",[1.0665,.4,1.05,1,2],"a","boost",[-30,"e"]],["Labashi",[1.1665,.4,.81,1,2],"a","boost",[30,"a"]],["Kwan",[.9,.4,1.02,2,2],"w","boost",[-30,"a"]],["Manawa",[1.1334,.4,1,0,2],"w","boost",[30,"w"]],["Simo",[1.2334,.4,.7,2,2],"w","boost",[10,"p"]],["Ram",[.8334,.25,1.13,0,1],"w","poison",[15,"w"]],["Akbar",[1,.25,1,2,1],"a","rolling thunder",[15,"a"]],["Kazumi",[.95,.15,.92,1,2],"w","stealth strike",[30,"w"]],["Kanar",[1,.2,.92,2,2],"a","armor break",[10,"p"]],["Clovis",[.8,.3,.91,1,2],"w","healing",[-15,"w"]],["Brutus",[.9334,.1,.8,2,2],"f","soul steal",[-15,"f"]],["Gunnar",[1.0665,.1,.78,2,3],"e","berserk",[15,"e"]],["Kendrix",[.9334,.1,1.1,1,2],"a","berserk",[-15,"e"]],["Luuser Tarhu",[1,.25,1,1,2],"e","poison hive",[10,"h"]],["Blaine",[.9167,.25,.75,2,2],"e","regeneration",[15,"e"]],["Ten Bears",[1,.25,.92,0,2],"a","vengeance",[30,"a"]],["Kashta",[1,.1,.94,0,3],"e","twister",[-30,"f"]],["Benkei",[.9665,.25,1.07,0,2],"w","stealth assault",[-30,"a"]],["Helios",[1.4,.2,.77,2,4],"a","team strike",[30,"a"]],["Sakuma",[1.1665,.15,.75,2,2],"a","phantom strike",[5,"p"]],["Zazan",[.9,.25,.96,1,2],"f","phantom shield",[15,"f"]],["Sama",[1.0834,.3,1.03,1,2],"a","phantom shield",[10,"p"]],["Breth",[1.1834,.25,.85,1,2],"w","phantom shield",[-30,"a"]],["Agoolik",[.9334,.3,1.1,1,2],"w","phantom shield",[-30,"a"]]],C=function(){function t(e,i,a){Object(h.a)(this,t),this.id=e,this.f=i,this.dur=a,this.should_terminate=!1}return Object(o.a)(t,[{key:"run",value:function(){this.f(),this.dur-=1,this.dur<=0&&(this.should_terminate=!0)}}]),t}(),S=function(){function t(e){Object(h.a)(this,t),this.name=e,this.user=null}return Object(o.a)(t,[{key:"setUser",value:function(t){this.user=t}},{key:"getPhysicalDamage",value:function(){throw new Error("getPhysicalDamage not overridden for "+this.name)}},{key:"getElementalDamage",value:function(){throw new Error("getPhysicalDamage not overridden for "+this.name)}}]),t}(),T=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Normal Move"))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"getPhysicalDamage",value:function(){return this.user.getStat(O.PHYS)}},{key:"getElementalDamage",value:function(){return this.user.getStat(O.ELE)}}]),e}(S),_=function(t){function e(t,i,a){var n;return Object(h.a)(this,e),(n=Object(c.a)(this,Object(l.a)(e).call(this,t))).base=i,n.multipliesEle=a,n.ignoresEle=!1,n}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setUser",value:function(t){this.user=t,t.calcStats();var e=this.base*Math.pow(1.2,t.pip-1),i=t.getBase(O.PHYS);this.ignoresEle?this.mod=this.base*Math.pow(1.2,t.pip-1)/t.getBase(O.PHYS):this.multipliesEle?(i+=t.getBase(O.ELE),this.mod=e/i):this.mod=(e-t.getBase(O.ELE))/i}},{key:"getPhysicalDamage",value:function(){return this.user.getStat(O.PHYS)*this.mod}},{key:"getElementalDamage",value:function(){var t=this.user.getStat(O.ELE);return this.ignoresEle?t=0:this.multipliesEle&&(t*=this.mod),t}},{key:"attack",value:function(){this.user.strike(this)}},{key:"attackAll",value:function(){var t=this;this.user.enemyTeam.forEach(function(e){t.user.strike(t,e)})}}]),e}(S),x=function(t){function e(){var t,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,"Thunder Strike",40,!1))).shouldCheckEle=i,t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setUser",value:function(t){if(Object(w.a)(Object(l.a)(e.prototype),"setUser",this).call(this,t),this.shouldCheckEle)switch(t.element.name){case"Fire":this.name="Inferno";break;case"Earth":this.name="Claw Crush";break;case"Air":this.name="Tornado Strike";break;case"Water":this.name="Frozen Crunch";break;default:this.name="Thunder Strike"}}}]),e}(_),P=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"null",20,!0))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setUser",value:function(t){switch(Object(w.a)(Object(l.a)(e.prototype),"setUser",this).call(this,t),t.element.name){case"Fire":this.name="Fire Storm";break;case"Earth":this.name="Boulder Bash";break;case"Air":this.name="Tempest";break;case"Water":this.name="Ice Storm";break;default:this.name="null"}}},{key:"attack",value:function(){this.attackAll()}}]),e}(_),B=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"null",0,!1))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setUser",value:function(t){this.user=t,this.mod=1,this.name=t.element.name+" Boost"}},{key:"attack",value:function(){var t=this;this.user.team.forEach(function(e){e.element===t.user.element&&(e.boostIsUp=!0,e.applyBoost(O.ELE,new rt(t.name,1.35,3)))})}}]),e}(_),M=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,"Poison",15,!1))).ignoresEle=!0,t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){this.user.enemyTeam.active.poison(this.getPhysicalDamage()),this.user.enemyTeam.gainEnergy()}}]),e}(_),A=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Rolling Thunder",7,!0))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){for(var t,e,i=!1,a=this.user.enemyTeam,n=0;n<3;n++){if(0===(t=a.membersRem.length))return;e=a.membersRem[Math.floor(Math.random()*t)],a.active===e&&(i?a.energy-=1:i=!0),this.user.strike(this,e),a.check_if_ko()}}}]),e}(_),D=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Stealth Strike",40,!1))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){Object(w.a)(Object(l.a)(e.prototype),"attack",this).call(this),this.user.team.switchin(this.user.team.switchback)}}]),e}(_),R=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Armor Break",40,!0))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){Object(w.a)(Object(l.a)(e.prototype),"attack",this).call(this),this.user.enemyTeam.active.applyBoost(O.ARM,new rt("Armor Break",-2,3))}}]),e}(_),H=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,"Healing",17,!1))).ignoresEle=!0,t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){var t=this,e=void 0,i=1;this.user.team.forEach(function(a){a!==t.user&&a.hp_perc()<i&&(e=a,i=a.hp_perc())});var a=this.getPhysicalDamage();this.user.heal(.2*a),void 0!==e&&e.heal(.8*a)}}]),e}(_),I=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,"Soul Steal",30,!1))).ignoresEle=!0,t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){this.user.heal(.3*this.user.strike(this))}}]),e}(_),U=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Berserk",50,!1))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){var t=.2*this.user.strike(this);this.user.takeDamage(t),this.user.hp_rem<1&&(this.user.hp_rem=1)}}]),e}(_),F=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,"Poison Hive",10,!1))).ignoresEle=!0,t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){var t=this;this.user.enemyTeam.forEach(function(e){return e.poison(t.getPhysicalDamage())}),this.user.enemyTeam.gainEnergy()}}]),e}(_),L=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this,"Regeneration",3,!1))).ignoresEle=!0,t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){var t=this.getPhysicalDamage();this.user.team.forEach(function(e){e.addOnUpdateAction(new C("regeneration",function(){e.regen=!0,e.heal(t)},3))})}}]),e}(_),N=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Vengeance",25,!0))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){var t=1.5-this.user.hp_perc(),e=this.getPhysicalDamage()*t,i=this.getElementalDamage()*t;this.user.strike(this,this.user.enemyTeam.active,e,i)}}]),e}(_),z=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Twister",10,!0))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){var t=this,e=1.5-this.user.hp_perc(),i=this.getPhysicalDamage()*e,a=this.getElementalDamage()*e;this.user.enemyTeam.forEach(function(e){t.user.strike(t,e,i,a)})}}]),e}(_),W=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Stealth Assault",15,!0))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){this.attackAll(),this.user.team.switchin(this.user.team.switchback)}}]),e}(_),V=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Team Strike",40,!0))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){var t=this.user.team.membersRem.length-1,e=Math.pow(1.2,t),i=this.getPhysicalDamage()*e,a=this.getElementalDamage()*e,n=this.user.strike(this,this.user.enemyTeam.active,i,a);this.user.team.forEach(function(t){t.takeDamage(n/6,0),t.hp_rem=Math.round(t.hp_rem)}),this.user.hp_rem<=1&&(this.user.hp_rem=1)}}]),e}(_),Y=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Phantom Strike",10,!0))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"attack",value:function(){var t=this.getPhysicalDamage(),e=this.getElementalDamage(),i=this.user.enemyTeam;this.user.strike(this,i.active,1.33*t,1.33*e),i.membersRem.length<2||(this.user.strike(this,i.next(),t,e),i.membersRem.length<3||this.user.strike(this,i.prev(),.67*t,.67*e))}}]),e}(_),K=function(t){function e(){return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Phantom Shield",0,!1))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setUser",value:function(t){this.user=t,this.mod=1}},{key:"attack",value:function(){this.user.team.forEach(function(t){t.applyBoost(O.ARM,new rt("Phantom Shield",3,3)),t.shield=!0})}}]),e}(_);var G=function t(e,i,a){Object(h.a)(this,t),this.name=e,this.color=i,this.weakness=a};function J(t){var e=Q;switch(t[0].toLowerCase()){case"w":e=q;break;case"f":e=Z;break;case"e":e=X;break;case"a":e=$;break;default:e=Q}return e}var Z=new G("Fire","rgb(255, 0, 0)","Water"),X=new G("Earth","rgb(0, 255, 0)","Fire"),$=new G("Air","rgb(255, 255, 0)","Earth"),q=new G("Water","rgb(0, 0, 255)","Air"),Q=new G("Null","rgb(100, 100, 100)",void 0),tt=function(){function t(e,i){switch(Object(h.a)(this,t),this.amount=e/100,i){case"p":this.type="p";break;case"h":this.type="h";break;default:this.type=J(i)}}return Object(o.a)(t,[{key:"apply",value:function(t){var e=this,i=this.amount>=0?t:t.enemyTeam;"p"===this.type?i.forEach(function(t){t.applyBoost(O.PHYS,new rt("Leader Skill",e.amount,1))}):i.forEach(function(t){t.element===e.type&&t.applyBoost(O.ELE,new rt("Leader Skill",e.amount,1))})}}]),t}(),et=function(){function t(e,i,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;Object(h.a)(this,t),this.id=e,this.applyBeforeHit=i===t.PRE_HIT,this.func=a,this.duration=n,this.shouldTerminate=!1}return Object(o.a)(t,[{key:"setUser",value:function(t){this.user=t}},{key:"run",value:function(t){this.func(t),this.duration--,this.shouldTerminate=0===this.duration}}]),t}();et.PRE_HIT=0,et.POST_HIT=1;var it=function t(e,i,a,n,s){Object(h.a)(this,t),this.hitter=e,this.hittee=i,this.attackUsed=a,this.physDmg=n,this.eleDmg=s},at=33.73,nt=107.0149,st=function(){function t(e){Object(h.a)(this,t);var i=this.find_warrior(e);this.name=i[0],this.stats=new Map;var a=at*i[1][0];this.stats.set(O.PHYS,new O(O.PHYS,a*(1-i[1][1]),!0)),this.stats.set(O.ELE,new O(O.ELE,a*i[1][1],!0)),this.stats.set(O.ARM,new O(O.ARM,i[1][3])),this.stats.set(O.HP,new O(O.HP,nt*i[1][2],!0)),this.pip=i[1][4],this.element=J(i[2]),this.special=function(t){switch(t){case"thunder strike":return new x(!1);case"beat":return new x(!0);case"aoe":return new P;case"boost":return new B;case"poison":return new M;case"rolling thunder":return new A;case"stealth strike":return new D;case"armor break":return new R;case"healing":return new H;case"soul steal":return new I;case"berserk":return new U;case"poison hive":return new F;case"regeneration":return new L;case"vengeance":return new N;case"twister":return new z;case"stealth assault":return new W;case"team strike":return new V;case"phantom strike":return new Y;case"phantom shield":return new K;default:return console.log("The Special move by the name of "+t+" does not exist. Defaulting to Thunder Strike"),new x(!1)}}(i[3]),this.lead_skill=new tt(i[4][0],i[4][1]),this.level=34,this.warriorSkills=[],this.normalMove=new T,this.normalMove.setUser(this),this.special.setUser(this)}return Object(o.a)(t,[{key:"find_warrior",value:function(t){var e=!0,i=!1,a=void 0;try{for(var n,s=E[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var r=n.value;if(r[0]===t)return r}}catch(h){i=!0,a=h}finally{try{e||null==s.return||s.return()}finally{if(i)throw a}}return["ERROR",[1,.5,1,1,2],"none","ERROR",[5,"p"]]}},{key:"addSkill",value:function(t){this.warriorSkills.push(t),t.setUser(this)}},{key:"calcStats",value:function(){var t=!0,e=!1,i=void 0;try{for(var a,n=this.stats.values()[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){a.value.calc(this.level)}}catch(s){e=!0,i=s}finally{try{t||null==n.return||n.return()}finally{if(e)throw i}}}},{key:"getBase",value:function(t){return this.stats.get(t).getBase()}},{key:"getStat",value:function(t){return this.stats.get(t).getValue()}},{key:"applyBoost",value:function(t,e){this.stats.has(t)?this.stats.get(t).applyBoost(e):console.log("Stat not found: "+t)}},{key:"hp_perc",value:function(){return this.hp_rem/this.getStat(O.HP)}},{key:"perc_hp",value:function(t){return this.getStat(O.HP)*t}},{key:"check_if_ko",value:function(){return this.hp_rem<=0}},{key:"calcPhysDmg",value:function(t,e){return t*(1-.12*this.getStat(O.ARM))}},{key:"calcEleDmg",value:function(t,e){return this.element.weakness===e.user.element.name?t*=1.7:this.element.name===e.user.element.weakness&&(t*=.3),t}},{key:"calcDamage",value:function(t,e,i){return this.calcPhysDmg(t,i)+this.calcEleDmg(e,i)}},{key:"strike",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;void 0===e&&(e=this.enemyTeam.active),void 0===i&&(i=t.getPhysicalDamage()),void 0===a&&(a=t.getElementalDamage());var n=e.calcPhysDmg(i,t),s=e.calcEleDmg(a,t),r=(e.calcDamage(i,a,t),new it(this,e,t,n,s));return this.onHitActions.forEach(function(t,e){t.applyBeforeHit&&t.run(r)}),e.onHitActions.forEach(function(t,e){t.applyBeforeHit&&t.run(r)}),e.takeDamage(r.physDmg,r.eleDmg),e.last_hitby=this,this.onHitActions.forEach(function(t,e){t.applyBeforeHit||t.run(r)}),e.onHitActions.forEach(function(t,e){t.applyBeforeHit||t.run(r)}),e.team.active===e&&(e.healableDamage+=r.physDmg+r.eleDmg,e.team.gainEnergy()),r.physDmg+r.eleDmg}},{key:"takeDamage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t+e;this.lastPhysDmg+=t,this.lastEleDmg+=e,this.hp_rem-=i,this.hp_rem=Math.round(this.hp_rem)}},{key:"useNormalMove",value:function(){this.strike(this.normalMove)}},{key:"useSpecial",value:function(){this.team.switchback=this.team.active,this.team.switchin(this),this.special.attack(),this.team.energy-=2}},{key:"heal",value:function(t){this.last_healed+=Math.round(t),this.hp_rem+=t,this.hp_rem>this.getStat(O.HP)&&(this.hp_rem=this.getStat(O.HP)),this.hp_rem=Math.round(this.hp_rem)}},{key:"addOnHitAction",value:function(t){this.onHitActions.set(t.id,t),t.setUser(this)}},{key:"addOnUpdateAction",value:function(t){this.onUpdateActions.set(t.id,t)}},{key:"update",value:function(){this.check_durations(),this.poisoned=!1,this.regen=!1,this.in_shell&&this.applyBoost(O.ARM,new rt("shell",3,1));var t=new Map,e=!0,i=!1,a=void 0;try{for(var n,s=this.onUpdateActions.values()[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var r=n.value;r.run(),r.should_terminate||t.set(r.id,r)}}catch(h){i=!0,a=h}finally{try{e||null==s.return||s.return()}finally{if(i)throw a}}this.onUpdateActions=t}},{key:"init",value:function(){this.calcStats(),this.hp_rem=this.getStat(O.HP),this.poisoned=!1,this.regen=!1,this.shield=!1,this.lastPhysDmg=0,this.lastEleDmg=0,this.healableDamage=0,this.last_hitby=void 0,this.last_healed=0,this.in_shell=!1,this.onUpdateActions=new Map,this.onHitActions=new Map,this.warriorSkills.forEach(function(t){t.apply()})}},{key:"nat_regen",value:function(){this.heal(.4*this.healableDamage)}},{key:"reset_dmg",value:function(){this.lastPhysDmg=0,this.lastEleDmg=0,this.healableDamage=0}},{key:"reset_heal",value:function(){this.last_healed=0}},{key:"check_durations",value:function(){this.stats.forEach(function(t){t.update()}),this.boostIsUp=!1;var t=!0,e=!1,i=void 0;try{for(var a,n=this.stats.get(O.ELE).boosts.values()[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){if(a.value.id===this.element.name+" Boost"){this.boostIsUp=!0;break}}}catch(l){e=!0,i=l}finally{try{t||null==n.return||n.return()}finally{if(e)throw i}}this.shield=!1;var s=!0,r=!1,h=void 0;try{for(var o,c=this.stats.get(O.ARM).boosts.values()[Symbol.iterator]();!(s=(o=c.next()).done);s=!0){if("Phantom Shield"===o.value.id){this.shield=!0;break}}}catch(l){r=!0,h=l}finally{try{s||null==c.return||c.return()}finally{if(r)throw h}}}},{key:"poison",value:function(t){var e=this;this.addOnUpdateAction(new C("poison",function(){e.poisoned=!0,e.takeDamage(t)},3))}}]),t}(),rt=function(){function t(e,i,a){Object(h.a)(this,t),this.id=e,this.amount=i,this.max_dur=a,this.dur_rem=a,this.should_terminate=!1}return Object(o.a)(t,[{key:"update",value:function(){this.dur_rem-=1,this.dur_rem<=0&&(this.should_terminate=!0)}}]),t}(),ht=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(h.a)(this,t),this.name=e,this.members=i}return Object(o.a)(t,[{key:"forEach",value:function(t){this.membersRem.forEach(function(e){return t(e)})}},{key:"init",value:function(){this.membersRem=[];var t=!0,e=!1,i=void 0;try{for(var a,n=this.members[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){var s=a.value;s.init(),s.team=this,s.enemyTeam=this.enemyTeam,this.membersRem.push(s)}}catch(r){e=!0,i=r}finally{try{t||null==n.return||n.return()}finally{if(e)throw i}}this.leader=this.membersRem[0],this.active=this.membersRem[0],this.energy=2,this.won=!1}},{key:"gainEnergy",value:function(){this.energy<0&&(this.energy=1),this.energy<4&&(this.energy+=1)}},{key:"prev",value:function(){var t=this.membersRem.indexOf(this.active)-1;return-1===t&&(t=this.membersRem.length-1),this.membersRem[t]}},{key:"next",value:function(){var t=this.membersRem.indexOf(this.active)+1;return t>=this.membersRem.length&&(t=0),this.membersRem[t]}},{key:"switchin",value:function(t){if(1!==this.membersRem.length){var e=!0,i=!1,a=void 0;try{for(var n,s=this.membersRem[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var r=n.value;if(r===t)return void(this.active=r)}}catch(h){i=!0,a=h}finally{try{e||null==s.return||s.return()}finally{if(i)throw a}}console.log("Error: The warrior "+t+" does not exist!")}else this.active=this.membersRem[0]}},{key:"update",value:function(){var t=!0,e=!1,i=void 0;try{for(var a,n=this.membersRem[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){a.value.update()}}catch(s){e=!0,i=s}finally{try{t||null==n.return||n.return()}finally{if(e)throw i}}this.check_if_ko()}},{key:"check_if_ko",value:function(){var t=this.membersRem.indexOf(this.active);this.membersRem=this.membersRem.filter(function(t){return!t.check_if_ko()}),0===this.membersRem.length?this.enemyTeam.win():this.active.check_if_ko()&&(t>=this.membersRem.length&&(t=0),this.switchin(this.membersRem[t]))}},{key:"win",value:function(){alert(this.name+" wins!"),this.won=!0}},{key:"turn_part2",value:function(){var t=!0,e=!1,i=void 0;try{for(var a,n=this.membersRem[Symbol.iterator]();!(t=(a=n.next()).done);t=!0){a.value.reset_dmg()}}catch(s){e=!0,i=s}finally{try{t||null==n.return||n.return()}finally{if(e)throw i}}this.leader.check_if_ko()||this.leader.lead_skill.apply(this),this.update(),this.check_if_ko()}}]),t}(),ot=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this))).user=null,t.teamWorkshop=[],t.currIdx=0,t.options=["Toki"],t.addChild(t.leftButton()),t.addChild(t.rightButton()),t.addChild(t.selectButton()),t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setController",value:function(t){Object(w.a)(Object(l.a)(e.prototype),"setController",this).call(this,t),this.user=t.user,this.currIdx=Math.round(this.user.warriors.length/2),this.options=this.user.warriors.map(function(t){return t[0]}),this.update()}},{key:"leftButton",value:function(){var t=this,e=new p("Previous warrior");return e.setPos(0,75),e.setSize(25,25),e.setColor("blue"),e.addOnClick(function(){t.currIdx>0&&(t.currIdx--,t.update())}),e}},{key:"rightButton",value:function(){var t=this,e=new p("Next warrior");return e.setPos(75,75),e.setSize(25,25),e.setColor("green"),e.addOnClick(function(){t.currIdx<t.options.length-1&&(t.currIdx++,t.update())}),e}},{key:"selectButton",value:function(){var t=this,e=new p("Choose this warrior");return e.setPos(25,75),e.setSize(50,25),e.setColor("yellow"),e.addOnClick(function(){t.selectWarrior(t.options[t.currIdx])}),e}},{key:"selectWarrior",value:function(t){if(this.teamWorkshop.push(t),this.options.splice(this.options.indexOf(t),1),this.currIdx--,3===this.teamWorkshop.length){var e=prompt("What do you want to call this team?");this.user.teams.push(new ht(e,this.teamWorkshop.map(function(t){return new st(t)}))),console.log(this.user.teams),this.controller.setView(ft.MAIN_MENU)}else this.update()}},{key:"update",value:function(){var t=this.children.filter(function(t){return!(t instanceof j)});if(this.children=t,0!==this.currIdx){var e=new j(0,0,25);e.setWarrior(new st(this.options[this.currIdx-1])),this.addChild(e)}var i=new j(25,0,50);if(i.setWarrior(new st(this.options[this.currIdx])),this.addChild(i),this.currIdx!==this.options.length-1){var a=new j(75,0,25);a.setWarrior(new st(this.options[this.currIdx+1])),this.addChild(a)}this.draw()}}]),e}(k),ct=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this))).user=null,t.team1=null,t.team2=null,t.fight=t.fightButton(),t.addChild(t.fight),t.addChild(t.backButton()),t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setController",value:function(t){var i=this;Object(w.a)(Object(l.a)(e.prototype),"setController",this).call(this,t),this.user=t.user,this.team1=this.user.teams[0],this.team2=this.user.teams[1];var a,n=10,s=50,r=10,h=10;this.user.teams.forEach(function(t){(a=new p(t.name)).setPos(n,r),a.setSize(10,10),a.setColor("blue"),a.addOnClick(function(){i.team1=t,i.update()}),(r+=10)>=90&&(r=10,n+=10),i.addChild(a),(a=new p(t.name)).setPos(s,h),a.setSize(10,10),a.setColor("blue"),a.addOnClick(function(){i.team2=t,i.update()}),(h+=10)>=90&&(h=10,s+=10),i.addChild(a)}),this.draw()}},{key:"fightButton",value:function(){var t=this,e=new p("VS");return e.setPos(0,90),e.setSize(100,10),e.setColor("green"),e.addOnClick(function(){t.controller.setView(ft.BATTLE),t.controller.view.setTeams(t.team1,t.team2)}),e}},{key:"backButton",value:function(){var t=this,e=new p("Back");return e.setPos(0,0),e.setSize(100,10),e.setColor("red"),e.addOnClick(function(){t.controller.setView(ft.MAIN_MENU)}),e}},{key:"update",value:function(){this.fight.setText(this.team1.name+" VS "+this.team2.name+". Fight!"),this.draw()}}]),e}(k),lt=function(t){function e(t){var i;return Object(h.a)(this,e),(i=Object(c.a)(this,Object(l.a)(e).call(this))).warrior=t,i.setSize(20,20),i}return Object(u.a)(e,t),Object(o.a)(e,[{key:"draw",value:function(t){if(Object(w.a)(Object(l.a)(e.prototype),"draw",this).call(this,t),this.warrior.check_if_ko())return t.setColor("black"),void t.rect(this.x,this.y,this.w,this.h);var i;this.warrior.team.active===this.warrior&&(t.setColor("grey"),t.rect(this.x,this.y,this.w,this.h)),this.warrior.boostIsUp&&(t.setColor(this.warrior.element.color),t.rect(this.x,this.y,this.w,this.h/2)),i=!1!==this.warrior.poisoned?"green":"red",t.setColor(i),t.rect(this.x+5,this.y+5,15*this.warrior.hp_perc(),5),t.text(this.x+10,this.y,this.warrior.name),this.warrior.regen?t.text(this.x+10,this.y+10,this.warrior.hp_rem+"+"):t.text(this.x+10,this.y+10,this.warrior.hp_rem),0!==this.warrior.lastPhysDmg&&t.text(this.x+10,this.y+20,"-"+String(Math.round(this.warrior.lastPhysDmg))),0!==this.warrior.lastEleDmg&&t.text(this.x+10,this.y+30,"-"+String(Math.round(this.warrior.lastEleDmg))),0!==this.warrior.last_healed&&t.text(this.x+10,this.y+40,"+"+String(this.warrior.last_healed)),this.warrior.shield&&(t.setColor("rgba(0, 0, 155, 0.5)"),t.rect(this.x,this.y,this.w,this.h/2)),t.setColor(this.warrior.element.color),t.circle(this.x,this.y,5)}}]),e}(b),ut=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this))).team=null,t.color="white",t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setTeam",value:function(t){this.team=t}},{key:"setColor",value:function(t){this.color=t}},{key:"draw",value:function(t){if(Object(w.a)(Object(l.a)(e.prototype),"draw",this).call(this,t),null!==this.team){t.setColor(this.color);for(var i=0;i<this.team.energy;i++)t.circle(this.x+5*i,this.y,5)}}}]),e}(b),mt=function(t){function e(){var t;return Object(h.a)(this,e),(t=Object(c.a)(this,Object(l.a)(e).call(this))).team1=null,t.team2=null,t.team1Turn=!0,t.vsText="",t.dataText="",t.turnPart=0,t.energyIcons=[t.energyIconForTeamNum(1),t.energyIconForTeamNum(2)],t.energyIcons.forEach(function(e){return t.addChild(e)}),t}return Object(u.a)(e,t),Object(o.a)(e,[{key:"setTeams",value:function(t,e){var i=this;this.team1=t,this.team2=e,t.enemyTeam=e,e.enemyTeam=t,t.init(),e.init();var a,n=0;t.forEach(function(t){(a=i.hpButtonFor(t)).setPos(0,n),i.addChild(a),n+=20}),n=0,e.forEach(function(t){(a=i.hpButtonFor(t)).setPos(80,n),i.addChild(a),n+=20}),this.team1Turn=Math.random()>=.5,this.turnPart=1,this.energyIcons[0].setTeam(t),this.energyIcons[1].setTeam(e),this.update()}},{key:"energyIconForTeamNum",value:function(t){var e=new ut;return e.setColor(t?"blue":"red"),e.setPos(50*(t-1),90),e.setSize(50,10),e}},{key:"hpButtonFor",value:function(t){var e=this,i=new lt(t);return i.addOnClick(function(){e.dataText=t.name+":\n",e.dataText+="\tSpecial Move: "+t.special.name+" "+t.pip+"\n",e.dataText+="\tElement: "+t.element.name+"\n",e.dataText+="\tPhysical: "+t.getStat(O.PHYS)+"\n",e.dataText+="\tElemental: "+t.getStat(O.ELE)+"\n",e.dataText+="\tMax HP: "+t.getStat(O.HP)+"\n",e.dataText+="\tArmor: "+t.getStat(O.ARM)+"\n",e.update()}),i}},{key:"heartCollectionFor",value:function(t){var e=this,i=new p("Heart Collection");return i.setColor("red"),i.setPos(40,90),i.setSize(10,10),i.addOnClick(function(){t.active.nat_regen(),e.turnPart2For(t)}),i}},{key:"bombFor",value:function(t){var e=this,i=new p("Bomb");return i.setColor("black"),i.setPos(50,90),i.setSize(10,10),i.addOnClick(function(){var i=t.active.perc_hp(.15);t.active.hp_rem-=i,t.active.hp_rem<=1&&(t.active.hp_rem=1),t.active.hp_rem=Math.round(t.active.hp_rem),e.turnPart2For(t)}),i}},{key:"nmButtonFor",value:function(t){var e=this,i=new p("Normal Move");return i.setPos(45,70),i.setSize(10,10),i.setColor(t.active.element.color),i.addOnClick(function(){t.active.useNormalMove(),e.team1Turn=!e.team1Turn,e.turnPart=1,e.update()}),i}},{key:"displaySpecialsFor",value:function(t){var e,i=this,a=[],n=0;return t.forEach(function(s){(e=new p(s.special.name)).setPos(t===i.team1?n:90-n,70),e.setSize(10,10),e.setColor(s.element.color),e.addOnClick(function(){s.useSpecial(),i.team1Turn=!i.team1Turn,i.turnPart=1,i.update()}),n+=10,a.push(e)}),a}},{key:"purgeTempButtons",value:function(){var t=this;this.heartCol&&(this.removeChild(this.heartCol),this.heartCol=null),this.bomb&&(this.removeChild(this.bomb),this.bomb=null),this.nm&&(this.removeChild(this.nm),this.nm=null),this.specials&&(this.specials.forEach(function(e){t.removeChild(e)}),this.specials=null)}},{key:"turnPart1For",value:function(t){this.controller.canvas;t.check_if_ko(),this.team1.won||this.team2.won||(t.forEach(function(t){return t.reset_heal()}),this.purgeTempButtons(),this.vsText=t.active.name+" VS "+t.enemyTeam.active.name,t.active.healableDamage>0?(this.heartCol=this.heartCollectionFor(t),this.bomb=this.bombFor(t),this.addChild(this.heartCol),this.addChild(this.bomb)):this.turnPart2For(t),this.draw())}},{key:"turnPart2For",value:function(t){var e=this;this.controller.canvas;this.turnPart=2,this.purgeTempButtons(),t.turn_part2(),this.vsText=t.active.name+" VS "+t.enemyTeam.active.name,this.nm=this.nmButtonFor(t),this.addChild(this.nm),t.energy>=2&&(this.specials=this.displaySpecialsFor(t),this.specials.forEach(function(t){return e.addChild(t)})),this.draw()}},{key:"update",value:function(){null!==this.team1Turn&&1===this.turnPart&&(this.team1Turn?this.turnPart1For(this.team1):this.turnPart1For(this.team2)),this.draw()}},{key:"draw",value:function(){var t=this;Object(w.a)(Object(l.a)(e.prototype),"draw",this).call(this),this.controller.canvas.text(20,0,this.vsText);var i=20;this.dataText.split("\n").forEach(function(e){t.controller.canvas.text(20,i,e),i+=5})}}]),e}(k),ft=function(){function t(){Object(h.a)(this,t),this.user=null,this.view=null,this.canvas=null}return Object(o.a)(t,[{key:"setUser",value:function(t){this.user=t}},{key:"setCanvas",value:function(t){this.canvas=new y(t)}},{key:"setView",value:function(e){switch(e){case t.MAIN_MENU:this.view=new g;break;case t.TEAM_SELECT:this.user.teams.length<2?alert("You need at least 2 teams to battle"):this.view=new ct;break;case t.TEAM_BUILDER:this.view=new ot;break;case t.BATTLE:this.view=new mt;break;default:console.log("View not valid: "+e)}this.view&&(this.view.setController(this),this.view.setCanvas(this.canvas),this.view.draw())}}]),t}();ft.MAIN_MENU=0,ft.TEAM_SELECT=1,ft.TEAM_BUILDER=2,ft.BATTLE=3;var dt=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(h.a)(this,t),this.name=e,this.pip=i,this.user=void 0}return Object(o.a)(t,[{key:"setUser",value:function(t){this.user=t}},{key:"apply",value:function(){throw new Error("Method apply not set for "+this.name)}},{key:"checkForTrigger",value:function(){throw new Error("Method checkForTrigger not set for "+this.name)}},{key:"run",value:function(){throw new Error("Method run not set for "+this.name)}}]),t}(),vt=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Critical Hit",t))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"apply",value:function(){var t=this,e=this.user;e.addOnHitAction(new et("Critical Hit",et.PRE_HIT,function(i){i.hitter===e&&i.attackUsed instanceof T&&t.checkForTrigger()&&t.run(i)}))}},{key:"checkForTrigger",value:function(){return Math.random()<=.24}},{key:"run",value:function(t){console.log("Critical hit!"),t.physDmg*=1.24,t.eleDmg*=1.24}}]),e}(dt),bt=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(h.a)(this,e),Object(c.a)(this,Object(l.a)(e).call(this,"Guard",t))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"apply",value:function(){var t=this,e=this.user;e.addOnHitAction(new et("Guard",et.PRE_HIT,function(i){i.hittee===e&&i.attackUsed instanceof T&&t.checkForTrigger()&&t.run(i)}))}},{key:"checkForTrigger",value:function(){return Math.random()<=.24}},{key:"run",value:function(t){console.log("Guard!"),t.physDmg/=1.24,t.eleDmg/=1.24}}]),e}(dt),yt=new function t(){Object(h.a)(this,t),this.warriors=[],this.teams=[]};yt.warriors=E,yt.teams=[new ht("Starter Team",[new st("Abu"),new st("Toki"),new st("Zenghis")]),new ht("Arena Favorites",[new st("Ironhart"),new st("Erika"),new st("Boris")])],yt.teams[0].members[0].addSkill(new vt),yt.teams[0].members[1].addSkill(new bt);var kt=new ft;kt.setUser(yt),kt.setCanvas("canvas"),kt.setView(ft.MAIN_MENU),r.a.render(n.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,i){t.exports=i.p+"static/media/logo.5d5d9eef.svg"}},[[10,1,2]]]);
//# sourceMappingURL=main.439043bf.chunk.js.map